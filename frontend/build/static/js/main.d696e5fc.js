/*! For license information please see main.d696e5fc.js.LICENSE.txt */
(()=>{var e={1635:function(e,t,n){e.exports=function(){"use strict";function e(e,t){return t.forEach((function(t){t&&"string"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(n){if("default"!==n&&!(n in e)){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}}))})),Object.freeze(e)}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:{};function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i=function(e){try{return!!e()}catch(e){return!0}},o=!i((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),a=o,s=Function.prototype,c=s.call,l=a&&s.bind.bind(c,c),d=a?l:function(e){return function(){return c.apply(e,arguments)}},u=d({}.isPrototypeOf),h=function(e){return e&&e.Math===Math&&e},p=h("object"==typeof globalThis&&globalThis)||h("object"==typeof window&&window)||h("object"==typeof self&&self)||h("object"==typeof t&&t)||h("object"==typeof t&&t)||function(){return this}()||Function("return this")(),f=o,m=Function.prototype,_=m.apply,g=m.call,v="object"==typeof Reflect&&Reflect.apply||(f?g.bind(_):function(){return g.apply(_,arguments)}),y=d,b=y({}.toString),E=y("".slice),S=function(e){return E(b(e),8,-1)},T=S,w=d,C=function(e){if("Function"===T(e))return w(e)},R="object"==typeof document&&document.all,k=void 0===R&&void 0!==R?function(e){return"function"==typeof e||e===R}:function(e){return"function"==typeof e},O={},I=!i((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),N=o,A=Function.prototype.call,x=N?A.bind(A):function(){return A.apply(A,arguments)},P={},D={}.propertyIsEnumerable,L=Object.getOwnPropertyDescriptor,M=L&&!D.call({1:2},1);P.f=M?function(e){var t=L(this,e);return!!t&&t.enumerable}:D;var j,U,V=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},F=i,B=S,W=Object,G=d("".split),H=F((function(){return!W("z").propertyIsEnumerable(0)}))?function(e){return"String"===B(e)?G(e,""):W(e)}:W,z=function(e){return null==e},K=z,q=TypeError,Y=function(e){if(K(e))throw new q("Can't call method on "+e);return e},J=H,X=Y,Q=function(e){return J(X(e))},Z=k,$=function(e){return"object"==typeof e?null!==e:Z(e)},ee={},te=ee,ne=p,re=k,ie=function(e){return re(e)?e:void 0},oe=function(e,t){return arguments.length<2?ie(te[e])||ie(ne[e]):te[e]&&te[e][t]||ne[e]&&ne[e][t]},ae=p.navigator,se=ae&&ae.userAgent,ce=se?String(se):"",le=p,de=ce,ue=le.process,he=le.Deno,pe=ue&&ue.versions||he&&he.version,fe=pe&&pe.v8;fe&&(U=(j=fe.split("."))[0]>0&&j[0]<4?1:+(j[0]+j[1])),!U&&de&&(!(j=de.match(/Edge\/(\d+)/))||j[1]>=74)&&(j=de.match(/Chrome\/(\d+)/))&&(U=+j[1]);var me=U,_e=me,ge=i,ve=p.String,ye=!!Object.getOwnPropertySymbols&&!ge((function(){var e=Symbol("symbol detection");return!ve(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&_e&&_e<41})),be=ye&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Ee=oe,Se=k,Te=u,we=Object,Ce=be?function(e){return"symbol"==typeof e}:function(e){var t=Ee("Symbol");return Se(t)&&Te(t.prototype,we(e))},Re=String,ke=function(e){try{return Re(e)}catch(e){return"Object"}},Oe=k,Ie=ke,Ne=TypeError,Ae=function(e){if(Oe(e))return e;throw new Ne(Ie(e)+" is not a function")},xe=Ae,Pe=z,De=function(e,t){var n=e[t];return Pe(n)?void 0:xe(n)},Le=x,Me=k,je=$,Ue=TypeError,Ve={exports:{}},Fe=p,Be=Object.defineProperty,We=p,Ge=function(e,t){try{Be(Fe,e,{value:t,configurable:!0,writable:!0})}catch(r){Fe[e]=t}return t},He="__core-js_shared__",ze=Ve.exports=We[He]||Ge(He,{});(ze.versions||(ze.versions=[])).push({version:"3.42.0",mode:"pure",copyright:"\xa9 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://8c84a74b-e7fa-43e3-a57b-c3f946b873d6.preview.emergentagent.com","/api");Gr.interceptors.request.use((e=>{const t=localStorage.getItem("authToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),Gr.interceptors.response.use((e=>e),(e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("authToken"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(e)}));const $i=function(){const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)(null),[o,a]=(0,t.useState)(!0),[s,c]=(0,t.useState)([]),[l,d]=(0,t.useState)(navigator.onLine);(0,t.useEffect)((()=>{(async()=>{try{const t=localStorage.getItem("authToken"),r=localStorage.getItem("user");if(t&&r){const t=JSON.parse(r);n(t),i(t.userType);try{const e=await Gr.get("".concat(Zi,"/auth/verify"));if(!e.data.valid)throw new Error("Invalid token");n(e.data.user),i(e.data.user.userType)}catch(e){console.error("Token verification failed:",e),h()}}}catch(e){console.error("User initialization error:",e),h()}finally{a(!1)}})()}),[]),(0,t.useEffect)((()=>{const e=()=>d(!0),t=()=>d(!1);return window.addEventListener("online",e),window.addEventListener("offline",t),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t)}}),[]),(0,t.useEffect)((()=>{if(e&&l){const t=new WebSocket("ws://localhost:8001/ws?userId=".concat(e.id,"&token=").concat(localStorage.getItem("authToken")));return t.onmessage=e=>{const t=JSON.parse(e.data);u(t)},t.onclose=()=>{console.log("WebSocket connection closed")},()=>{t.close()}}}),[e,l]);const u=e=>{if("notification"===e.type)c((t=>[...t,e.payload]))},h=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("user"),n(null),i(null),c([])},p={user:e,userType:r,isLoading:o,notifications:s,isOnline:l,login:async(e,t,r)=>{try{const o=await Gr.post("".concat(Zi,"/auth/login"),{email:e,password:t,userType:r}),{token:a,user:s}=o.data;return localStorage.setItem("authToken",a),localStorage.setItem("user",JSON.stringify(s)),n(s),i(s.userType),{success:!0,user:s}}catch(s){var o,a;return console.error("Login error:",s),{success:!1,message:(null===(o=s.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)||"Login failed"}}},signup:async e=>{try{return{success:!0,message:"Account created successfully. Please verify your email.",data:(await Gr.post("".concat(Zi,"/auth/signup"),e)).data}}catch(r){var t,n;return console.error("Signup error:",r),{success:!1,message:(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Signup failed"}}},socialLogin:async(e,t)=>{try{const r=await Gr.post("".concat(Zi,"/auth/social-login"),{provider:e,accessToken:t}),{token:o,user:a}=r.data;return localStorage.setItem("authToken",o),localStorage.setItem("user",JSON.stringify(a)),n(a),i(a.userType),{success:!0,user:a}}catch(a){var r,o;return console.error("Social login error:",a),{success:!1,message:(null===(r=a.response)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message)||"Social login failed"}}},logout:h,updateUser:e=>{n(e),localStorage.setItem("user",JSON.stringify(e))},clearNotification:e=>{c((t=>t.filter((t=>t.id!==e))))},API:Zi};return o?(0,Hr.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,Hr.jsxs)("div",{className:"text-center",children:[(0,Hr.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-pink-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:(0,Hr.jsx)("span",{className:"text-white font-bold text-2xl",children:"E"})}),(0,Hr.jsx)("p",{className:"text-white text-lg",children:"Loading Eye Candy..."})]})}):(0,Hr.jsx)(Xi.Provider,{value:p,children:(0,Hr.jsxs)("div",{className:"App",children:[!l&&(0,Hr.jsx)("div",{className:"fixed top-0 left-0 right-0 bg-red-600 text-white text-center py-2 z-50",children:"You are offline. Some features may not work properly."}),(0,Hr.jsx)(ht,{children:(0,Hr.jsxs)(Ae,{children:[(0,Hr.jsx)(Ie,{path:"/",element:(0,Hr.jsx)(hi,{})}),(0,Hr.jsx)(Ie,{path:"/login",element:(0,Hr.jsx)(pi,{})}),(0,Hr.jsx)(Ie,{path:"/signup",element:e?(0,Hr.jsx)(Oe,{to:"/dashboard"}):(0,Hr.jsx)(Mi,{})}),(0,Hr.jsx)(Ie,{path:"/forgot-password",element:(0,Hr.jsx)(fi,{})}),(0,Hr.jsx)(Ie,{path:"/verify-otp",element:(0,Hr.jsx)(mi,{})}),(0,Hr.jsx)(Ie,{path:"/discover",element:(0,Hr.jsx)(Yr,{})}),(0,Hr.jsx)(Ie,{path:"/search",element:(0,Hr.jsx)(ji,{})}),(0,Hr.jsx)(Ie,{path:"/performer-search",element:(0,Hr.jsx)(ji,{})}),(0,Hr.jsx)(Ie,{path:"/profile/:id",element:(0,Hr.jsx)(yi,{})}),(0,Hr.jsx)(Ie,{path:"/post/:id",element:(0,Hr.jsx)(Ci,{})}),(0,Hr.jsx)(Ie,{path:"/payment-success",element:(0,Hr.jsx)(ki,{})}),(0,Hr.jsx)(Ie,{path:"/payment-cancelled",element:(0,Hr.jsx)(Oi,{})}),(0,Hr.jsx)(Ie,{path:"/help",element:(0,Hr.jsx)(Ui,{})}),(0,Hr.jsx)(Ie,{path:"/test-geolocation",element:(0,Hr.jsx)(Yi,{})}),(0,Hr.jsx)(Ie,{path:"/admin/login",element:(0,Hr.jsx)(wi,{})}),(0,Hr.jsx)(Ie,{path:"/admin/dashboard",element:"admin"===(null===e||void 0===e?void 0:e.role)?(0,Hr.jsx)(zr,{}):(0,Hr.jsx)(Oe,{to:"/admin/login"})}),(0,Hr.jsx)(Ie,{path:"/profile-setup",element:e?(0,Hr.jsx)(_i,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/bank-verification",element:e?(0,Hr.jsx)(gi,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/messages",element:e?(0,Hr.jsx)(Si,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/chat",element:e?(0,Hr.jsx)(Ni,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/appointments",element:e?(0,Hr.jsx)(Ai,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/video-conference",element:e?(0,Hr.jsx)(Li,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/settings",element:e?(0,Hr.jsx)(Ti,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/notifications",element:e?(0,Hr.jsx)(Ii,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/wallet",element:e?(0,Hr.jsx)(ai,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/subscription/:id",element:e?(0,Hr.jsx)(Ri,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/payment",element:e?(0,Hr.jsx)(oi,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/member-dashboard",element:"member"===(null===e||void 0===e?void 0:e.userType)?(0,Hr.jsx)(Jr,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/performer-dashboard",element:"performer"===(null===e||void 0===e?void 0:e.userType)?(0,Hr.jsx)(vi,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/performer/:performerId/geolocation-settings",element:"performer"===(null===e||void 0===e?void 0:e.userType)?(0,Hr.jsx)(Hi,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/store/:id",element:"performer"===(null===e||void 0===e?void 0:e.userType)?(0,Hr.jsx)(bi,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/stream/:id",element:"performer"===(null===e||void 0===e?void 0:e.userType)?(0,Hr.jsx)(Ei,{}):(0,Hr.jsx)(Oe,{to:"/login"})}),(0,Hr.jsx)(Ie,{path:"/profile/:id",element:(0,Hr.jsx)(Ji,{})}),(0,Hr.jsx)(Ie,{path:"*",element:(0,Hr.jsx)(Oe,{to:"/"})})]})})]})})};r.createRoot(document.getElementById("root")).render((0,Hr.jsx)(t.StrictMode,{children:(0,Hr.jsx)($i,{})}))})()})();
//# sourceMappingURL=main.d696e5fc.js.map